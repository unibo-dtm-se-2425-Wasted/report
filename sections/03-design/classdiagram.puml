@startuml
skinparam class {
  ArrowColor black
  BorderColor black
}

' === Entities ===
class User <<Entity>> {
  - username : str
  --
  + get_food_items() : List<FoodItem>
  + add_food_item(item: FoodItem)
  + delete_food_item(item_id: int)
}

class FoodItem <<Entity>> {
  - id : int
  - user : str
  - name : str
  - category : str
  - purchase_date : str
  - expiration_date : str
  - quantity : float
  - unit : str
}

class Recipe <<Entity>> {
  - id : int
  - title : str
  - ingredients : List<str>
  - instructions : str
}

' === Persistence ===
class DatabaseManager <<DB>> {
  - db_path : str
  --
  + create_connection() : Connection
  + initialize_db()
  + insert_food_item(...)
  + get_all_food_items(user) : List<FoodItem>
  + delete_food_item(item_id, user)
}

' === Logic ===
class StatusChecker <<Logic>> {
  + is_expired(item: FoodItem) : bool
  + days_to_expiration(item: FoodItem) : int
}

class StatisticsCalculator <<Logic>> {
  + compute_totals(user: User) : dict
  + compute_waste_rate(user: User) : float
  + items_per_category(user: User) : dict
}

' === External ===
class RecipeService <<External>> {
  - api_key : str
  --
  + get_recipes(ingredients: List<str>) : List<Recipe>
}

' === Relationships ===
User "1" --> "*" FoodItem : owns >
DatabaseManager --> FoodItem : manages >
StatisticsCalculator --> User : analyzes >
StatusChecker --> FoodItem : checks >
RecipeService --> Recipe : returns >

' === Color styling ===
skinparam class {
  BackgroundColor<<Entity>> #D6EAF8
  BackgroundColor<<DB>> #FAD7A0
  BackgroundColor<<Logic>> #ABEBC6
  BackgroundColor<<External>> #F9E79F
}
@enduml
