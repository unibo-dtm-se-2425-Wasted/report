@startuml
title User-Backend Interaction Sequence Diagram

actor User
participant Browser
participant "Flask API" as API
participant Database
participant "External Recipe API" as ExternalAPI

' Add Food Item
User -> Browser : Fill Add Form
Browser -> API : POST /api/items
API -> Database : Save item
Database --> API : 201 Created
API --> Browser : Success message
Browser -> User : Show confirmation

' Get Items
User -> Browser : Open Inventory
Browser -> API : GET /api/items
API -> Database : Retrieve items
Database --> API : List of items
API --> Browser : Return items
Browser -> User : Display inventory

' Get Expiring Items
User -> Browser : View Expiring Items
Browser -> API : GET /api/items/expiring
API -> Database : Filter expiring items
Database --> API : Expiring items
API --> Browser : Return expiring items
Browser -> User : Show alerts

' Get Recipe Suggestions
User -> Browser : Request Recipes
Browser -> API : POST /api/recipes
API -> ExternalAPI : Send ingredients
ExternalAPI --> API : Recipe suggestions
API --> Browser : Return suggestions
Browser -> User : Display recipes

' Get Waste Statistics
User -> Browser : View Waste Stats
Browser -> API : GET /api/statistics
API -> Database : Query waste data
Database --> API : Waste statistics
API --> Browser : Return stats
Browser -> User : Show statistics

' Delete Food Item
User -> Browser : Click Delete on Item
Browser -> API : DELETE /api/items/{id}
API -> Database : Delete item by ID
Database --> API : Confirm deletion
API --> Browser : Deletion success
Browser -> User : Update UI

@enduml
