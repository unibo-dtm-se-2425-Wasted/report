@startuml
title User-Backend Interaction Sequence Diagram

skinparam actorStyle awesome
skinparam backgroundColor #FFFFFF
skinparam sequence {
    ArrowColor black
    LifeLineBorderColor gray
    LifeLineBackgroundColor #FAFAFA
    ParticipantBorderColor black
    ParticipantBackgroundColor #F0F8FF
    ActorBackgroundColor #9FC5E8
    ActorBorderColor #003366
}

actor User #9FC5E8
participant Browser #LightBlue
participant "Flask API" as API #LightYellow
participant Database #LightGreen
participant "External Recipe API" as ExternalAPI #Pink

== Add Food Item ==
User -> Browser : Fill Add Form
Browser -> API : POST /api/items
API -> Database : Save item
Database --> API : 201 Created
API --> Browser : Success message
Browser -> User : Show confirmation

== Get Items ==
User -> Browser : Open Inventory
Browser -> API : GET /api/items
API -> Database : Retrieve items
Database --> API : List of items
API --> Browser : Return items
Browser -> User : Display inventory

== Get Expiring Items ==
User -> Browser : View Expiring Items
Browser -> API : GET /api/items/expiring
API -> Database : Filter expiring items
Database --> API : Expiring items
API --> Browser : Return expiring items
Browser -> User : Show alerts

== Get Recipe Suggestions ==
User -> Browser : Request Recipes
Browser -> API : POST /api/recipes
API -> ExternalAPI : Send ingredients
ExternalAPI --> API : Recipe suggestions
API --> Browser : Return suggestions
Browser -> User : Display recipes

== Get Waste Statistics ==
User -> Browser : View Waste Stats
Browser -> API : GET /api/statistics
API -> Database : Query waste data
Database --> API : Waste statistics
API --> Browser : Return stats
Browser -> User : Show statistics

== Delete Food Item ==
User -> Browser : Click Delete on Item
Browser -> API : DELETE /api/items/{id}
API -> Database : Delete item by ID
Database --> API : Confirm deletion
API --> Browser : Deletion success
Browser -> User : Update UI

@enduml
